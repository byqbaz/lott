<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Lottery</title>
    <!--引入本地-->
    <link rel="stylesheet" href="/static/layui/css/layui.css">
    <script src="/static/layui/layui.js"></script>
    <script src="/static/js/jquery-3.5.1.min.js"></script>

    <!--引入线上-->
    <!--<link rel="stylesheet" href="//unpkg.com/layui@2.6.5/dist/css/layui.css">-->
    <!--<script src="//unpkg.com/layui@2.6.5/dist/layui.js"></script>-->
    <!--<script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>-->
</head>
<body>
<div class="layui-card">
    <div class="layui-card-header">折叠面板</div>
    <div class="layui-card-body">
        <div class="layui-collapse" layui-show>
            <div class="layui-colla-item">
                <h2 class="layui-colla-title">李白</h2>
                <div class="layui-colla-content layui-show">
                    <span class="layui-badge" id="fc1">6</span>
                    <span class="layui-badge" id="fc2">6</span>
                    <span class="layui-badge" id="fc3">6</span>
                    <span class="layui-badge" id="fc4">6</span>
                    <span class="layui-badge" id="fc5">6</span>
                    <span class="layui-badge" id="fc6">6</span>
                    <span class="layui-badge layui-bg-blue"  id="fc7">6</span>
                    <button type="button" id="fc" name="generate_fc" class="lott layui-btn layui-btn-radius layui-btn-normal">生成</button>
                </div>
            </div>
            <div class="layui-colla-item">
                <h2 class="layui-colla-title">杜甫</h2>
                <div class="layui-colla-content layui-show">
                    <div class="layui-colla-content layui-show">
                        <span class="layui-badge" id="tc1">6</span>
                        <span class="layui-badge" id="tc2">6</span>
                        <span class="layui-badge" id="tc3">6</span>
                        <span class="layui-badge" id="tc4">6</span>
                        <span class="layui-badge" id="tc5">6</span>
                        <span class="layui-badge layui-bg-blue" id="tc6">6</span>
                        <span class="layui-badge layui-bg-blue" id="tc7">6</span>
                        <button type="button" id="tc" name="generate_fc" class="lott layui-btn layui-btn-radius layui-btn-normal">生成</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>



<script>
    //注意：折叠面板 依赖 element 模块，否则无法进行功能性操作
    layui.use('element', function(){
        var element = layui.element;

        //…
    });

    $('.lott').click(function(){
      var url = $("#fc").attr("name");
//      var res = $("#fc").prop("name");
        $.ajax({
            type: "POST",
            url: "{:url('"+url+"')}",
            data: {name:url},
            dataType: "json",
            success: function(data){
                var jsonObj = JSON.parse(data);
                $('#fc1').text(jsonObj.red[0]);
                $('#fc2').text(jsonObj.red[1]);
                $('#fc3').text(jsonObj.red[2]);
                $('#fc4').text(jsonObj.red[3]);
                $('#fc5').text(jsonObj.red[4]);
                $('#fc6').text(jsonObj.red[5]);
                $('#fc7').text(jsonObj.blue);
                console.log(jsonObj);
                console.log(jsonObj.red);
                console.log(jsonObj.red[0]);
//                console.log(jsonObj.red.slice(1));
//                console.log(jsonObj.red.indexOf(']'));
//                console.log(jsonObj.red.slice(1,jsonObj.red.indexOf(']')));
//                red=jsonObj.red.slice(1,jsonObj.red.indexOf(']'));
//                red=red.split(',');
//                console.log(red);
//                console.log(jsonObj.blue);
            }
        });
    });
</script>

</body>
</html>